{"ast":null,"code":"import _classCallCheck from\"C:/Users/umair/Downloads/Archive/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/umair/Downloads/Archive/node_modules/@babel/runtime/helpers/esm/createClass.js\";import Bullet from\"./Bullet.js\";var BulletController=/*#__PURE__*/function(){function BulletController(canvas){_classCallCheck(this,BulletController);this.bullets=[];this.timerTillNextBullet=0;this.canvas=canvas;}_createClass(BulletController,[{key:\"shoot\",value:function shoot(x,y,speed,damage,delay){if(this.timerTillNextBullet<=0){this.bullets.push(new Bullet(x,y,speed,damage));this.timerTillNextBullet=delay;}this.timerTillNextBullet--;}},{key:\"draw\",value:function draw(ctx){var _this=this;this.bullets.forEach(function(bullet){if(_this.isBulletOffScreen(bullet)){var index=_this.bullets.indexOf(bullet);_this.bullets.splice(index,1);}bullet.draw(ctx);});}},{key:\"collideWith\",value:function collideWith(sprite){var _this2=this;return this.bullets.some(function(bullet){if(bullet.collideWith(sprite)){_this2.bullets.splice(_this2.bullets.indexOf(bullet),1);return true;}return false;});}},{key:\"isBulletOffScreen\",value:function isBulletOffScreen(bullet){return bullet.y<=-bullet.height;}}]);return BulletController;}();export{BulletController as default};","map":{"version":3,"names":["Bullet","BulletController","canvas","bullets","timerTillNextBullet","x","y","speed","damage","delay","push","ctx","forEach","bullet","isBulletOffScreen","index","indexOf","splice","draw","sprite","some","collideWith","height"],"sources":["C:/Users/umair/Downloads/Archive/src/logic/BulletController.js"],"sourcesContent":["import Bullet from \"./Bullet.js\";\n\nexport default class BulletController {\n  bullets = [];\n  timerTillNextBullet = 0;\n\n  constructor(canvas) {\n    this.canvas = canvas;\n  }\n\n  shoot(x, y, speed, damage, delay) {\n    if (this.timerTillNextBullet <= 0) {\n      this.bullets.push(new Bullet(x, y, speed, damage));\n\n      this.timerTillNextBullet = delay;\n    }\n\n    this.timerTillNextBullet--;\n  }\n\n  draw(ctx) {\n    this.bullets.forEach((bullet) => {\n      if (this.isBulletOffScreen(bullet)) {\n        const index = this.bullets.indexOf(bullet);\n        this.bullets.splice(index, 1);\n      }\n      bullet.draw(ctx);\n    });\n  }\n\n  collideWith(sprite) {\n    return this.bullets.some((bullet) => {\n      if (bullet.collideWith(sprite)) {\n        this.bullets.splice(this.bullets.indexOf(bullet), 1);\n        return true;\n      }\n      return false;\n    });\n  }\n\n  isBulletOffScreen(bullet) {\n    return bullet.y <= -bullet.height;\n  }\n}\n"],"mappings":"0OAAA,MAAOA,OAAM,KAAM,aAAa,CAAC,GAEZC,iBAAgB,yBAInC,0BAAYC,MAAM,CAAE,6CAHpBC,OAAO,CAAG,EAAE,MACZC,mBAAmB,CAAG,CAAC,CAGrB,IAAI,CAACF,MAAM,CAAGA,MAAM,CACtB,CAAC,kDAED,eAAMG,CAAC,CAAEC,CAAC,CAAEC,KAAK,CAAEC,MAAM,CAAEC,KAAK,CAAE,CAChC,GAAI,IAAI,CAACL,mBAAmB,EAAI,CAAC,CAAE,CACjC,IAAI,CAACD,OAAO,CAACO,IAAI,CAAC,GAAIV,OAAM,CAACK,CAAC,CAAEC,CAAC,CAAEC,KAAK,CAAEC,MAAM,CAAC,CAAC,CAElD,IAAI,CAACJ,mBAAmB,CAAGK,KAAK,CAClC,CAEA,IAAI,CAACL,mBAAmB,EAAE,CAC5B,CAAC,oBAED,cAAKO,GAAG,CAAE,gBACR,IAAI,CAACR,OAAO,CAACS,OAAO,CAAC,SAACC,MAAM,CAAK,CAC/B,GAAI,KAAI,CAACC,iBAAiB,CAACD,MAAM,CAAC,CAAE,CAClC,GAAME,MAAK,CAAG,KAAI,CAACZ,OAAO,CAACa,OAAO,CAACH,MAAM,CAAC,CAC1C,KAAI,CAACV,OAAO,CAACc,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,CAC/B,CACAF,MAAM,CAACK,IAAI,CAACP,GAAG,CAAC,CAClB,CAAC,CAAC,CACJ,CAAC,2BAED,qBAAYQ,MAAM,CAAE,iBAClB,MAAO,KAAI,CAAChB,OAAO,CAACiB,IAAI,CAAC,SAACP,MAAM,CAAK,CACnC,GAAIA,MAAM,CAACQ,WAAW,CAACF,MAAM,CAAC,CAAE,CAC9B,MAAI,CAAChB,OAAO,CAACc,MAAM,CAAC,MAAI,CAACd,OAAO,CAACa,OAAO,CAACH,MAAM,CAAC,CAAE,CAAC,CAAC,CACpD,MAAO,KAAI,CACb,CACA,MAAO,MAAK,CACd,CAAC,CAAC,CACJ,CAAC,iCAED,2BAAkBA,MAAM,CAAE,CACxB,MAAOA,OAAM,CAACP,CAAC,EAAI,CAACO,MAAM,CAACS,MAAM,CACnC,CAAC,uCAxCkBrB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}