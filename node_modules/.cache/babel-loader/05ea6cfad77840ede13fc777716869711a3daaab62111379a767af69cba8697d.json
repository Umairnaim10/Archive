{"ast":null,"code":"import Bullet from \"./Bullet.js\";\nexport default class BulletController {\n  constructor(canvas) {\n    this.bullets = [];\n    this.timerTillNextBullet = 0;\n    this.canvas = canvas;\n  }\n  shoot(x, y, speed, damage, delay) {\n    if (this.timerTillNextBullet <= 0) {\n      this.bullets.push(new Bullet(x, y, speed, damage));\n      this.timerTillNextBullet = delay;\n    }\n    this.timerTillNextBullet--;\n  }\n  draw(ctx) {\n    this.bullets.forEach(bullet => {\n      if (this.isBulletOffScreen(bullet)) {\n        const index = this.bullets.indexOf(bullet);\n        this.bullets.splice(index, 1);\n      }\n      bullet.draw(ctx);\n    });\n  }\n  collideWith(sprite) {\n    return this.bullets.some(bullet => {\n      if (bullet.collideWith(sprite)) {\n        this.bullets.splice(this.bullets.indexOf(bullet), 1);\n        return true;\n      }\n      return false;\n    });\n  }\n  isBulletOffScreen(bullet) {\n    return bullet.y <= -bullet.height;\n  }\n}","map":{"version":3,"names":["Bullet","BulletController","constructor","canvas","bullets","timerTillNextBullet","shoot","x","y","speed","damage","delay","push","draw","ctx","forEach","bullet","isBulletOffScreen","index","indexOf","splice","collideWith","sprite","some","height"],"sources":["C:/Users/umair/Downloads/Archive/src/logic/BulletController.js"],"sourcesContent":["import Bullet from \"./Bullet.js\";\n\nexport default class BulletController {\n  bullets = [];\n  timerTillNextBullet = 0;\n\n  constructor(canvas) {\n    this.canvas = canvas;\n  }\n\n  shoot(x, y, speed, damage, delay) {\n    if (this.timerTillNextBullet <= 0) {\n      this.bullets.push(new Bullet(x, y, speed, damage));\n\n      this.timerTillNextBullet = delay;\n    }\n\n    this.timerTillNextBullet--;\n  }\n\n  draw(ctx) {\n    this.bullets.forEach((bullet) => {\n      if (this.isBulletOffScreen(bullet)) {\n        const index = this.bullets.indexOf(bullet);\n        this.bullets.splice(index, 1);\n      }\n      bullet.draw(ctx);\n    });\n  }\n\n  collideWith(sprite) {\n    return this.bullets.some((bullet) => {\n      if (bullet.collideWith(sprite)) {\n        this.bullets.splice(this.bullets.indexOf(bullet), 1);\n        return true;\n      }\n      return false;\n    });\n  }\n\n  isBulletOffScreen(bullet) {\n    return bullet.y <= -bullet.height;\n  }\n}\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,aAAa;AAEhC,eAAe,MAAMC,gBAAgB,CAAC;EAIpCC,WAAW,CAACC,MAAM,EAAE;IAAA,KAHpBC,OAAO,GAAG,EAAE;IAAA,KACZC,mBAAmB,GAAG,CAAC;IAGrB,IAAI,CAACF,MAAM,GAAGA,MAAM;EACtB;EAEAG,KAAK,CAACC,CAAC,EAAEC,CAAC,EAAEC,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAE;IAChC,IAAI,IAAI,CAACN,mBAAmB,IAAI,CAAC,EAAE;MACjC,IAAI,CAACD,OAAO,CAACQ,IAAI,CAAC,IAAIZ,MAAM,CAACO,CAAC,EAAEC,CAAC,EAAEC,KAAK,EAAEC,MAAM,CAAC,CAAC;MAElD,IAAI,CAACL,mBAAmB,GAAGM,KAAK;IAClC;IAEA,IAAI,CAACN,mBAAmB,EAAE;EAC5B;EAEAQ,IAAI,CAACC,GAAG,EAAE;IACR,IAAI,CAACV,OAAO,CAACW,OAAO,CAAEC,MAAM,IAAK;MAC/B,IAAI,IAAI,CAACC,iBAAiB,CAACD,MAAM,CAAC,EAAE;QAClC,MAAME,KAAK,GAAG,IAAI,CAACd,OAAO,CAACe,OAAO,CAACH,MAAM,CAAC;QAC1C,IAAI,CAACZ,OAAO,CAACgB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MAC/B;MACAF,MAAM,CAACH,IAAI,CAACC,GAAG,CAAC;IAClB,CAAC,CAAC;EACJ;EAEAO,WAAW,CAACC,MAAM,EAAE;IAClB,OAAO,IAAI,CAAClB,OAAO,CAACmB,IAAI,CAAEP,MAAM,IAAK;MACnC,IAAIA,MAAM,CAACK,WAAW,CAACC,MAAM,CAAC,EAAE;QAC9B,IAAI,CAAClB,OAAO,CAACgB,MAAM,CAAC,IAAI,CAAChB,OAAO,CAACe,OAAO,CAACH,MAAM,CAAC,EAAE,CAAC,CAAC;QACpD,OAAO,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC;EACJ;EAEAC,iBAAiB,CAACD,MAAM,EAAE;IACxB,OAAOA,MAAM,CAACR,CAAC,IAAI,CAACQ,MAAM,CAACQ,MAAM;EACnC;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}